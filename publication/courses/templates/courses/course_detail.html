{% extends 'bases.html' %}

{%block content%} 
    

    <header>
        <!-- Sidebar -->
        <div style="float: right; width: 20%; margin-top: 30px; background-color: rgba(3, 27, 70, 0.95);
        color: white; margin-top: 80px; border-top-left-radius: 5px; border-bottom-left-radius: 5px;" >
            {%for mod in courses.module.all %}
                {%if user.is_authenticated%} 
                
                    <a href="{%url 'courses:modulelistdetail' slug=mod.slug course=courses.slug subject=courses.subject.slug%}" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                        <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>Module {{mod.position}} {{mod.name}}</span>
                    </a>
                    
                   
                {%else%}
                    <a href="#" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                        <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>{{mod.position}} {{mod.name}}</span>
                    </a>
                {%endif%}
    
            {%endfor%}
            {%if user.is_superuser%}
            <a href="/admin/courses/module/add" type="button" class="btn btn-primary me-3" style="text-decoration: none;color: white; width: 100%;">create Module</a>
            <!--
                <a href="{% url 'courses:modulepro'%}"  class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    <i class="fas fa-tachometer-alt fa-fw me-3" ></i><span>Propose module</span>
                </a>
                <a href="{% url 'courses:listmodpro'%}" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                    <i class="fas fa-tachometer-alt fa-fw me-3" ></i><span>see Propose module</span>
                </a>
                    <a href="{% url 'courses:modulecreate' subject=courses.subject slug=courses%}" type="button" class="btn btn-primary me-3" style="text-decoration: none;color: white; width: 100%;">create Module</a>
               --> 
            {% endif %}
    
        </div>
        <!-- Sidebar -->
      
        <!-- Navbar -->
        
        <!-- Navbar -->
    </header>
      
      <!--Main Navigation-->
      
      <!--Main layout-->
    
      <div class="container" style="margin-top: 80px;">
    
        <div class="row" >
    
            {%for mod in courses.module.all %}
                
                    <div class="col-md-3 " style=" margin-top: 10px; margin-bottom: 50px;">
                                  
                                    
                            <div class="card cardre" style="border: 1px solid rgba(3, 27, 70, 0.95); margin-bottom: 150px;
                              border-top-left-radius: 5px; border-top-right-radius: 5px;">
                                {%if user.is_authenticated%}  
                                    <a href="{%url 'courses:modulelistdetail' slug=mod.slug course=courses subject=courses.subject%}">
    
                                        <div class="title" style="width: 100%; color: #000000; background: rgba(3, 27, 70, 0.95); text-transform: uppercase; padding: 5px; text-align: center;">
                                            <h5 class="subTitle" style="color: #000000;">
                                                <a href="{%url 'courses:modulelistdetail' slug=mod.slug course=courses.slug subject=courses.subject.slug%}" style="text-decoration: none; color: white;">{{mod.name}}</a>
                                            </h5>
                                        </div>
                                        <div class="card-body">
                                            <a href="" style="text-decoration: none;">
                                                <h5 class="card-title" style="color: #212529;">{{mod.name}}</h5>
                                            </a>
                                            
                                            <p class="card-text">{{mod.description}}.</p>
                                            
                                        </div>
                                    </a>
    
                                {%else%}
                                    <div class="title" style="width: 100%; color: #000000; background: #212529; text-transform: uppercase; padding: 5px; text-align: center;">
                                        <h5 class="subTitle" style="color: white;">
                                           {{mod.name}}
                                        </h5>
                                    </div>
                                    <p style="margin: 3px;">to follow this course, you might be connected <a href="{%url 'login'%}">login</a></p>
                                {%endif%}
                            </div>
                        
                    
                    </div>
            {%empty%}
                <div class="col-md-12" style="margin-bottom: 150px;">
                    <h1>No module in this course</h1><br>
                    
                    <p>please we are updating  this subject for the moment </p> 

                    <p> are so sorry for that </p> 

                    <p>You can select another subject by clicking on the link below </p>

                    <a href="{% url 'courses:courselist' slug=courses.subject.slug%}">courses</a>
                
                    </div>
                
            {%endfor%}
        </div>
      </div>
      <!--Main layout-->
        
    





{% endblock%}